{
    "version": "1.0",
    "description": "Skill activation triggers for Spec-Flow Workflow Kit. Controls when phase skills and cross-cutting skills automatically suggest or block actions.",
    "skills": {
        "specification-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Feature specification creation - reduces clarification overload, ensures vision alignment",
            "promptTriggers": {
                "keywords": [
                    "create spec",
                    "write spec",
                    "specification",
                    "feature spec",
                    "requirements",
                    "user stories",
                    "acceptance criteria",
                    "feature description"
                ],
                "intentPatterns": [
                    "(create|write|draft|build).*?(spec|specification|requirements)",
                    "(define|document).*?(feature|requirement|user story)",
                    "/spec",
                    "what.*?should.*?feature.*?do"
                ]
            }
        },
        "clarification-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Resolve spec ambiguities - prevents over-clarification, uses informed guess strategy",
            "promptTriggers": {
                "keywords": [
                    "clarify",
                    "clarification",
                    "ambiguous",
                    "unclear",
                    "questions about",
                    "not sure about",
                    "need to understand"
                ],
                "intentPatterns": [
                    "(clarify|resolve|clear up).*?(ambiguity|unclear|question)",
                    "(ask|need).*?(clarification|questions)",
                    "/clarify",
                    "what.*?(mean|unclear|ambiguous)"
                ]
            }
        },
        "planning-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "critical",
            "description": "Implementation planning with code reuse analysis - prevents reinventing the wheel",
            "promptTriggers": {
                "keywords": [
                    "plan",
                    "planning",
                    "architecture",
                    "design",
                    "implementation plan",
                    "how to implement",
                    "approach",
                    "strategy",
                    "code reuse",
                    "existing patterns"
                ],
                "intentPatterns": [
                    "(create|write|draft).*?(plan|architecture|design)",
                    "(how to|how should).*?(implement|build|approach)",
                    "/plan",
                    "(find|search|look for).*?(existing|reuse|pattern)"
                ]
            }
        },
        "task-breakdown-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Break features into concrete tasks - prevents oversized/undersized tasks, ensures TDD-first sequencing",
            "promptTriggers": {
                "keywords": [
                    "tasks",
                    "task breakdown",
                    "break down",
                    "checklist",
                    "todo",
                    "implementation tasks",
                    "work items"
                ],
                "intentPatterns": [
                    "(create|generate|break down).*?(tasks|checklist|todo)",
                    "(how many|what).*?tasks",
                    "/tasks",
                    "break.*?into.*?(steps|tasks)"
                ]
            }
        },
        "analysis-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Cross-artifact consistency validation and breaking change detection",
            "promptTriggers": {
                "keywords": [
                    "validate",
                    "validation",
                    "consistency",
                    "breaking changes",
                    "analyze",
                    "analysis",
                    "review artifacts",
                    "check consistency"
                ],
                "intentPatterns": [
                    "(validate|check|analyze|review).*?(consistency|artifacts|breaking)",
                    "(find|detect).*?(breaking change|inconsistency)",
                    "/validate",
                    "does.*?match.*?spec"
                ]
            }
        },
        "implementation-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "critical",
            "description": "TDD implementation with parallel task execution - enforces test-first, anti-duplication",
            "promptTriggers": {
                "keywords": [
                    "implement",
                    "implementation",
                    "write code",
                    "build feature",
                    "code",
                    "develop",
                    "TDD",
                    "test-driven",
                    "write tests"
                ],
                "intentPatterns": [
                    "(implement|build|create|write|develop).*?(feature|code|function|component)",
                    "/implement",
                    "(start|begin).*?(coding|development|implementation)",
                    "(write|create).*?(test|unit test|integration test)"
                ]
            }
        },
        "optimization-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Production readiness validation - code review, performance, security, accessibility",
            "promptTriggers": {
                "keywords": [
                    "optimize",
                    "optimization",
                    "code review",
                    "performance",
                    "accessibility",
                    "security",
                    "production ready",
                    "quality check"
                ],
                "intentPatterns": [
                    "(optimize|improve).*?(performance|code|quality)",
                    "(review|check).*?(code|quality|security|accessibility)",
                    "/optimize",
                    "is.*?(ready|production ready)"
                ]
            }
        },
        "preview-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Manual UI/UX testing on local dev server before deployment",
            "promptTriggers": {
                "keywords": [
                    "preview",
                    "test locally",
                    "manual test",
                    "UI test",
                    "user flow",
                    "test feature"
                ],
                "intentPatterns": [
                    "(preview|test|verify).*?(locally|manual|UI|feature)",
                    "/preview",
                    "how.*?test.*?feature"
                ]
            }
        },
        "staging-deployment-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Deploy to staging environment with auto-merge",
            "promptTriggers": {
                "keywords": [
                    "deploy staging",
                    "ship staging",
                    "staging deployment",
                    "deploy to staging"
                ],
                "intentPatterns": [
                    "(deploy|ship).*?staging",
                    "/ship-staging",
                    "staging.*?deployment"
                ]
            }
        },
        "staging-validation-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Staging acceptance testing with rollback capability verification",
            "promptTriggers": {
                "keywords": [
                    "validate staging",
                    "test staging",
                    "staging tests",
                    "rollback test"
                ],
                "intentPatterns": [
                    "(validate|test|verify).*?staging",
                    "/validate-staging",
                    "rollback.*?test"
                ]
            }
        },
        "production-deployment-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "critical",
            "description": "Production promotion with versioning and release",
            "promptTriggers": {
                "keywords": [
                    "deploy production",
                    "ship prod",
                    "production deployment",
                    "go live",
                    "release"
                ],
                "intentPatterns": [
                    "(deploy|ship).*?(production|prod|live)",
                    "/ship-prod",
                    "/deploy-prod",
                    "production.*?deployment"
                ]
            }
        },
        "finalize-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Workflow completion - CHANGELOG, README, issue closure, branch cleanup",
            "promptTriggers": {
                "keywords": [
                    "finalize",
                    "cleanup",
                    "close issue",
                    "update changelog",
                    "finish feature"
                ],
                "intentPatterns": [
                    "(finalize|complete|finish).*?feature",
                    "/finalize",
                    "cleanup.*?(branch|issue)"
                ]
            }
        },
        "project-initialization-phase": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Project design documentation - generates 8 comprehensive docs (overview, architecture, tech-stack, etc.)",
            "promptTriggers": {
                "keywords": [
                    "init project",
                    "initialize project",
                    "project setup",
                    "new project",
                    "project documentation",
                    "architecture docs"
                ],
                "intentPatterns": [
                    "(init|initialize|setup|create).*?project",
                    "/init-project",
                    "project.*?(documentation|setup|initialization)"
                ]
            }
        },
        "roadmap-integration": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "Manage product roadmap via GitHub Issues - brainstorm, prioritize, track features",
            "promptTriggers": {
                "keywords": [
                    "roadmap",
                    "features",
                    "backlog",
                    "prioritize",
                    "brainstorm features",
                    "add feature"
                ],
                "intentPatterns": [
                    "(manage|update|view).*?roadmap",
                    "/roadmap",
                    "(brainstorm|add|prioritize).*?feature",
                    "what.*?features.*?(next|build)"
                ]
            }
        },
        "ui-ux-design": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Design workflow for UI features - 3 phases (variations, functional, polish)",
            "promptTriggers": {
                "keywords": [
                    "design",
                    "UI design",
                    "UX design",
                    "mockup",
                    "wireframe",
                    "design system",
                    "brand tokens",
                    "design variations"
                ],
                "intentPatterns": [
                    "(design|create).*?(UI|interface|mockup|wireframe)",
                    "(init|setup).*?(design system|brand tokens)",
                    "design.*?(workflow|phase)"
                ]
            }
        },
        "anti-duplication": {
            "type": "guardrail",
            "enforcement": "warn",
            "priority": "high",
            "description": "Detects code duplication before writing - critical for DRY principle",
            "promptTriggers": {
                "keywords": [
                    "similar code",
                    "duplicate",
                    "already exists",
                    "reuse"
                ],
                "intentPatterns": [
                    "(check|search|find).*?(similar|duplicate|existing)",
                    "already.*?(exist|implemented)",
                    "(reuse|use existing).*?code"
                ]
            }
        },
        "breaking-change-detector": {
            "type": "guardrail",
            "enforcement": "warn",
            "priority": "critical",
            "description": "Identifies API/data breaking changes - essential for version bumping",
            "promptTriggers": {
                "keywords": [
                    "breaking change",
                    "API change",
                    "schema change",
                    "migration",
                    "backward compatibility"
                ],
                "intentPatterns": [
                    "(check|detect|find).*?(breaking change|backward compatibility)",
                    "(API|schema|database).*?change",
                    "migration.*?needed"
                ]
            }
        },
        "tdd-enforcer": {
            "type": "guardrail",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Enforces test-first development during implementation",
            "promptTriggers": {
                "keywords": [
                    "write test",
                    "test first",
                    "TDD",
                    "unit test",
                    "test coverage"
                ],
                "intentPatterns": [
                    "(write|create).*?test.*?first",
                    "test.*?(driven|first)",
                    "(unit|integration|e2e).*?test"
                ]
            }
        },
        "hallucination-detector": {
            "type": "guardrail",
            "enforcement": "warn",
            "priority": "critical",
            "description": "Detects false assumptions in agent outputs - foundation for all phases",
            "promptTriggers": {
                "keywords": [
                    "verify",
                    "check assumption",
                    "is this correct",
                    "hallucination"
                ],
                "intentPatterns": [
                    "(verify|check|validate).*?(assumption|fact|claim)",
                    "is.*?(this|that).*?(correct|true|accurate)",
                    "(source|reference|cite)"
                ]
            }
        },
        "context-budget-enforcer": {
            "type": "guardrail",
            "enforcement": "warn",
            "priority": "medium",
            "description": "Monitors token usage and triggers compaction at 80% threshold",
            "promptTriggers": {
                "keywords": [
                    "token usage",
                    "context budget",
                    "token limit",
                    "compact context"
                ],
                "intentPatterns": [
                    "(check|calculate|monitor).*?token",
                    "context.*?(budget|limit|usage)",
                    "compact.*?context"
                ]
            }
        }
    },
    "notes": {
        "enforcement_types": {
            "suggest": "Skill suggestion appears but doesn't block execution - used for phase skills",
            "block": "Requires skill to be used before proceeding (guardrail) - not currently used in Spec-Flow",
            "warn": "Shows warning but allows proceeding - used for cross-cutting skills"
        },
        "priority_levels": {
            "critical": "Highest - Planning, implementation, production deployment, breaking changes",
            "high": "Important - Most phase skills and quality checks",
            "medium": "Moderate - Preview, finalize, roadmap management",
            "low": "Optional - Context-aware but not essential"
        },
        "spec_flow_integration": {
            "phase_skills": "16 phase-specific skills map to workflow phases (spec → clarify → plan → tasks → validate → implement → optimize → preview → deploy → finalize)",
            "cross_cutting_skills": "12 skills that apply across phases (anti-duplication, breaking-change-detector, TDD, hallucination detection)",
            "auto_activation": "Hooks trigger based on slash commands, keywords, and user intent patterns",
            "customization": "Adjust keywords and intentPatterns to match your team's vocabulary"
        },
        "usage_examples": {
            "specification": "User says 'create spec for user auth' → suggests specification-phase skill",
            "implementation": "User says 'implement login endpoint' → suggests implementation-phase + tdd-enforcer skills",
            "deployment": "User says 'ship to production' → suggests production-deployment-phase + breaking-change-detector skills"
        }
    }
}
